"use strict";angular.module("royal-web-dashboard").controller("loginController",["$scope","$state","$firebaseAuth","$firebaseObject","localStorageService",function(a,b,c,d,e){function f(a){var b=firebase.database().ref("/users/"+a);b.once("value").then(function(a){var b=a.val().username,c=a.val().password;e.set("username",b),e.set("password",c)})}var g=c();a.hideAlert=!0,a.tryLogin=function(){g.$signInWithEmailAndPassword(a.email,a.password).then(function(c){var d={};a.hideAlert=!0,f(c.uid),d.id=c.uid,d.email=a.email,analytics.identify(d.id,{email:a.email},function(){b.go("index.dashboard")})}).catch(function(b){a.messageDetails=b.message,a.hideAlert=!1})},a.goToForgotPassword=function(){b.go("forgotPassword")},a.goToRegister=function(){b.go("register")}}]);